!function(e){function t(t){for(var s,o,r=t[0],h=t[1],d=t[2],c=0,g=[];c<r.length;c++)o=r[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&g.push(a[o][0]),a[o]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(e[s]=h[s]);for(l&&l(t);g.length;)g.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,r=1;r<i.length;r++){var h=i[r];0!==a[h]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},a={0:0},n=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window.webpackJsonp=window.webpackJsonp||[],h=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=h;n.push([1,1]),i()}([,function(e,t,i){"use strict";i.r(t);var s=i(0),a=i.n(s);class n extends a.a.Scene{constructor(){super("PlayScene"),this.groundImageHeight=26}create(){this.isGameRunning=!1;const{height:e,width:t}=this.game.config;this.gameSpeed=10,this.respawnTime=0,this.score=0,this.loadSounds(),this.createGround(e),this.createDino(e),this.createScoreUI(t),this.createObstacles(),this.createGameOverScreen(t,e),this.createEnvironment(t),this.handleUserInputs(),this.initStartTrigger(),this.initAnims(),this.initColliders(),this.handleScore()}loadSounds(){this.jumpSound=this.sound.add("jump",{volume:.8}),this.hitSound=this.sound.add("hit",{volume:.8}),this.reachSound=this.sound.add("reach",{volume:.8})}createGround(e){this.startTrigger=this.physics.add.sprite(0,10).setOrigin(0,1).setImmovable(),this.ground=this.add.tileSprite(0,e,80,this.groundImageHeight,"ground").setOrigin(0,1)}createDino(e){this.dino=this.physics.add.sprite(0,e,"dino-idle").setCollideWorldBounds(!0).setGravityY(5e3).setOrigin(0,1).setBodySize(44,92).setDepth(1)}createScoreUI(e){this.scoreText=this.add.text(e,0,"HI 00000",{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(1,0)}createObstacles(){this.obstacles=this.physics.add.group()}createGameOverScreen(e,t){this.gameOverScreen=this.add.container(e/2,t/2-50).setAlpha(0),this.gameOverText=this.add.image(0,0,"game-over"),this.restart=this.add.image(0,50,"restart").setInteractive(),this.gameOverScreen.add([this.gameOverText,this.restart])}createEnvironment(e){this.environment=this.add.group(),this.environment.addMultiple([this.add.image(e/2,170,"cloud"),this.add.image(e-88,80,"cloud"),this.add.image(e/1.39,110,"cloud")]),this.environment.setAlpha(0)}initColliders(){this.physics.add.collider(this.dino,this.obstacles,(()=>{this.physics.pause(),this.isGameRunning=!1,this.anims.pauseAll(),this.dino.setTexture("dino-hurt"),this.respawnTime=0,this.gameSpeed=0,this.gameOverScreen.setAlpha(1),this.hitSound.play()}),null,this)}initStartTrigger(){const{width:e,height:t}=this.game.config;this.physics.add.overlap(this.startTrigger,this.dino,(()=>{if(10===this.startTrigger.y)return void this.startTrigger.body.reset(0,t);this.startTrigger.disableBody(!0,!0),console.log("hitting the box");const i=this.time.addEvent({delay:1e3/60,loop:!0,callbackScope:this,callback:()=>{this.dino.setVelocityX(80),this.dino.play("dino-run",1),this.ground.width<e&&(this.ground.width+=34),this.ground.width>=e&&(this.ground.width=e,this.isGameRunning=!0,this.dino.setVelocity(0),this.environment.setAlpha(1),i.remove())}})}),null,this)}handleScore(){this.time.addEvent({delay:100,loop:!0,callbackScope:this,callback:()=>{if(!this.isGameRunning)return;this.score++,this.gameSpeed+=.01,this.score%100==0&&(this.reachSound.play(),this.tweens.add({targets:this.scoreText,duration:100,repeat:3,alpha:0,yoyo:!0}));const e=String(this.score).padStart(5,"0");this.scoreText.setText(e)}})}handleUserInputs(){this.restart.on("pointerdown",(()=>{window.location.reload()})),this.input.keyboard.on("keydown_SPACE",(()=>{this.dino.body.onFloor()&&(this.setDinoDefaultSize(),this.dino.setTexture("dino",0),this.dino.setVelocityY(-1600))})),this.input.keyboard.on("keydown_DOWN",(()=>{this.dino.body.onFloor()&&this.setDinoDuckSize()})),this.input.keyboard.on("keyup_DOWN",(()=>{this.dino.body.onFloor()&&this.setDinoDefaultSize()}))}setDinoDefaultSize(){this.dino.body.height=92,this.dino.body.offset.y=0}setDinoDuckSize(){this.dino.body.height=58,this.dino.body.offset.y=34}initAnims(){this.anims.create({key:"dino-run",frames:this.anims.generateFrameNumbers("dino",{start:2,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"dino-down-anim",frames:this.anims.generateFrameNumbers("dino-down",{start:0,end:1}),frameRate:10,repeat:-1}),this.anims.create({key:"enemy-bird-fly",frames:this.anims.generateFrameNumbers("enemy-bird",{start:0,end:1}),frameRate:6,repeat:-1})}placeObstacle(){const{width:e,height:t}=this.game.config,i=Math.floor(7*Math.random())+1,s=a.a.Math.Between(600,900);let n;if(i>6){const i=[22,50];n=this.obstacles.create(e+s,t-i[Math.floor(2*Math.random())],"enemy-bird"),n.play("enemy-bird-fly",1),n.body.height/=1.5}else n=this.obstacles.create(e+s,t,"obsticle-"+i),n.body.offset.y=10,console.log("cacti");n.setOrigin(0,1).setImmovable(),console.log(i,s)}update(e,t){this.isGameRunning&&(this.ground.tilePositionX+=this.gameSpeed,a.a.Actions.IncX(this.obstacles.getChildren(),-this.gameSpeed),a.a.Actions.IncX(this.environment.getChildren(),-.5),this.respawnTime+=t*this.gameSpeed*.08,this.respawnTime>=1500&&(this.placeObstacle(),this.respawnTime=0),this.cleanupOffscreenObstacles(),this.recycleEnvironment(),this.dino.body.deltaAbsY()>0?(this.dino.anims.stop(),this.dino.setTexture("dino")):this.dino.body.height<=58?this.dino.play("dino-down-anim",!0):this.dino.play("dino-run",!0))}cleanupOffscreenObstacles(){this.obstacles.getChildren().forEach((e=>{e.getBounds().right<0&&e.destroy()}))}recycleEnvironment(){this.environment.getChildren().forEach((e=>{e.getBounds().right<0&&(e.x=this.game.config.width+30)}))}}var o=n;class r extends a.a.Scene{constructor(){super("PreloadScene")}preload(){this.load.audio("jump","assets/jump.m4a"),this.load.audio("hit","assets/hit.m4a"),this.load.audio("reach","assets/reach.m4a"),this.load.image("ground","assets/ground.png"),this.load.image("dino-idle","assets/dino-idle.png"),this.load.image("dino-hurt","assets/dino-hurt.png"),this.load.image("restart","assets/restart.png"),this.load.image("game-over","assets/game-over.png"),this.load.image("cloud","assets/cloud.png"),this.load.spritesheet("star","assets/stars.png",{frameWidth:9,frameHeight:9}),this.load.spritesheet("moon","assets/moon.png",{frameWidth:20,frameHeight:40}),this.load.spritesheet("dino","assets/dino-run.png",{frameWidth:88,frameHeight:94}),this.load.spritesheet("dino-down","assets/dino-down.png",{frameWidth:118,frameHeight:94}),this.load.spritesheet("enemy-bird","assets/enemy-bird.png",{frameWidth:92,frameHeight:77}),this.load.image("obsticle-1","assets/cactuses_small_1.png"),this.load.image("obsticle-2","assets/cactuses_small_2.png"),this.load.image("obsticle-3","assets/cactuses_small_3.png"),this.load.image("obsticle-4","assets/cactuses_big_1.png"),this.load.image("obsticle-5","assets/cactuses_big_2.png"),this.load.image("obsticle-6","assets/cactuses_big_3.png")}create(){this.scene.start("PlayScene")}}var h=r;const d={type:a.a.AUTO,width:1e3,height:340,pixelArt:!0,transparent:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:[h,o]};new a.a.Game(d)}]);